/*
 * Copyright 2017 Republic of Reinvention bvba. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

//-----IMPORTS-----
@import (reference) "/assets/stralo/site/styles/commons.less";
@import (reference) "/assets/webjars/bootstrap/3.3.4/less/mixins/vendor-prefixes.less";

//-----STYLES-----
stralo-square {

  // To make it a square:
  // copied from the mixin and with a little help from
  // http://stackoverflow.com/questions/20456694/grid-of-responsive-squares
  // Note: the 12 will make the block full width, relative to it's containing parent
  @columns: 12;
  .make-xs-column(@columns); //sets the width
  padding: 0 0 percentage((@columns / @grid-columns)) 0; /* = width for a 1:1 aspect ratio */
  margin: 1.66%;

  //disabled to make the shadow visible, seems to work without
  //overflow: hidden;
  position: relative;

  // Overwrite the float from the column (generated by make-sm-column)
  float: none;

  //especially for the mobile version: adds some padding to the bottom of the square
  //note that we need 5px to get 'past' the shadow
  border-bottom: 10px solid transparent;

  a,
  a:hover,
  a:active,
  a:visited {
    .stralo-shadow(@border-size: 5px);

    position: absolute;
    height: 100%; /* = 100% - 2*5% padding */
    width: 100%; /* = 100% - 2*5% padding */

    text-align: center;
    padding: 5%;
    display: block;
    text-decoration: none;
    border: 5px solid @color-primary;
    background-color: @color-primary-inv;

    [data-property="image"] {
      display: block;
      margin: 20% auto 0 auto;
      max-height: 40%;
      max-width: 50%;
      //max-height: 40%;//for svgs
    }
    [data-property="title"] {
      display: inline-block;
      margin-top: 20px;

      font-size: 1.1em;
      color: @text-color;

      .hyphens(auto);
    }
  }

  &.@{SQUARE_NOIMAGE_CLASS} {
    a {
      [data-property="image"] {
        display: none;
      }
      [data-property="title"] {
        margin-top: 45%;
      }
    }
  }
}


